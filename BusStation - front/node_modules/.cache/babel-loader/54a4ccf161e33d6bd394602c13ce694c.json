{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\BusStation\\\\BusStation - front\\\\src\\\\components\\\\reservation\\\\Reservation.js\";\nimport React from 'react';\nimport Axios from '../../apis/Axios';\nimport { Button, Form } from 'react-bootstrap';\n\nclass Reservation extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onNumberOfSeatsChange = event => {\n      console.log(event.target.value);\n      let input = event.target;\n      let value = input.value;\n      this.setState({\n        numberOfSeats: value\n      }, function () {\n        console.log('Number of seats ' + this.state.numberOfSeats);\n        console.log('Line id ' + this.state.lineId);\n      });\n    };\n\n    this.state = {\n      lineId: -1,\n      numberOfSeats: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getLineById(this.props.match.params.id);\n  }\n\n  getLineById(lineId) {\n    Axios.get('/lines/' + lineId).then(res => {\n      // handle success\n      this.setState({\n        lineId: res.data.id\n      });\n      console.log('Id of line is ' + this.state.lineId);\n    }).catch(error => {\n      // handle error\n      console.log(error);\n      alert('Unable to get line!');\n    });\n  }\n\n  reservation(event) {\n    event.preventDefault();\n    let config = {\n      params: {\n        id: this.state.lineId,\n        numberOfSeats: this.state.numberOfSeats\n      }\n    };\n    Axios.get('/reservations', config).then(res => {\n      // handle success\n      console.log(res);\n      alert('Successful reservation! Enjoy your travel!');\n      this.props.history.push('/lines');\n    }).catch(error => {\n      // handle error\n      console.log(error);\n      alert('Reservation is unsuccessful!');\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Reservation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          htmlFor: \"numberOfSeats\",\n          children: \"Broj mesta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 76\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          id: \"numberOfSeats\",\n          type: \"number\",\n          value: this.state.numberOfSeats,\n          onChange: event => this.onNumberOfSeatsChange(event)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 154\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn btn-primary\",\n          onClick: event => this.reservation(event),\n          children: \"Reserve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Reservation;","map":{"version":3,"sources":["D:/BusStation/BusStation - front/src/components/reservation/Reservation.js"],"names":["React","Axios","Button","Form","Reservation","Component","constructor","props","onNumberOfSeatsChange","event","console","log","target","value","input","setState","numberOfSeats","state","lineId","componentDidMount","getLineById","match","params","id","get","then","res","data","catch","error","alert","reservation","preventDefault","config","history","push","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Axios from '../../apis/Axios';\r\nimport {Button, Form} from 'react-bootstrap'\r\n\r\nclass Reservation extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { lineId: -1, numberOfSeats: 0 }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getLineById(this.props.match.params.id);\r\n     }\r\n\r\n     getLineById(lineId) {\r\n        Axios.get('/lines/' + lineId)\r\n        .then(res => {\r\n            // handle success\r\n            this.setState({lineId: res.data.id});\r\n            console.log('Id of line is ' + this.state.lineId)\r\n        })\r\n        .catch(error => {\r\n            // handle error\r\n            console.log(error);\r\n            alert('Unable to get line!');\r\n         });\r\n    }\r\n\r\n    onNumberOfSeatsChange = event => {\r\n        console.log(event.target.value);\r\n        let input = event.target;\r\n        let value = input.value;\r\n\r\n        this.setState({\r\n            numberOfSeats: value\r\n          },function(){\r\n            console.log('Number of seats ' + this.state.numberOfSeats)\r\n            console.log('Line id ' + this.state.lineId)\r\n          })\r\n    }\r\n\r\n    reservation(event) {\r\n        event.preventDefault();\r\n        let config = {\r\n            params: {\r\n                id: this.state.lineId,\r\n                numberOfSeats: this.state.numberOfSeats\r\n            }\r\n        }\r\n        \r\n        Axios.get('/reservations', config)\r\n        .then(res => {\r\n            // handle success\r\n            console.log(res);\r\n            alert('Successful reservation! Enjoy your travel!');\r\n            this.props.history.push('/lines');\r\n        })\r\n        .catch(error => {\r\n            // handle error\r\n            console.log(error);\r\n            alert('Reservation is unsuccessful!');\r\n         });\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <h1>Reservation</h1>\r\n                <Form>\r\n                <Form.Label htmlFor=\"numberOfSeats\">Broj mesta</Form.Label><br/>\r\n                <Form.Control id=\"numberOfSeats\" type=\"number\" value={this.state.numberOfSeats} onChange={(event) => this.onNumberOfSeatsChange(event)}/><br/>\r\n\r\n                <Button className=\"btn btn-primary\" onClick={(event) => this.reservation(event)}>Reserve</Button>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Reservation;"]},"metadata":{},"sourceType":"module"}